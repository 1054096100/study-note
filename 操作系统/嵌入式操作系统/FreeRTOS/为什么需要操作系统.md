# 为什么需要操作系统

早期嵌入式芯片：

- **使用汇编语言**。
- 基本**不使用操作系统**。

不是说早期的嵌入式芯片不想用，而是一些其他原因导致，例如：芯片存储量、编译器不行等等原因。

基础条件成熟：

- 硬件提升。MCU性能提升、**存储容量提升**。
- 软件提升。编译器，操作系统，集成开发环境。

为什么要使用操作系统？也就是使用嵌入式操作系统有什么好处？

1、**操作系统可以降低开发难度**。
下图为如何将串口收到数据解析后显示在LCD上：

![](http://oklbfi1yj.bkt.clouddn.com/FreeRTOS/1.jpg)

如果没有操作系统，那么流程如下：

![](http://oklbfi1yj.bkt.clouddn.com/FreeRTOS/2.jpg)

如果有操作系统，那么流程如下：

1、降低工作复杂度

操作系统**协调了不同功能程序**以让他们共同完成同一个工作。同时操作系统又隔离了各个功能程序让它们的**耦合程度降低**。这样就方便设计人员编写各个功能模块，同时整个系统的结构也更加清晰。特别是系统逻辑结构复杂，功能模块较多的情况下操作系统的这一优点体现的更加明显。

同时，由于用任务划分整个流程，编写程序的时候逻辑以及时序会相对简单。只需要考虑单个任务所完成的功能，不用过多的考虑人物之间的耦合关系。

2、增加代码可读性。给后续代码维护带来方便。
使用操作系统。可对代码进行层次管理，驱动归驱动，应用层归应用层。而且任务里的功能都很明显。每个任务的优先级，执行周期都是可以预期的。程序比较庞大的时候，拥有操作系统的程序的可读性将远远高于裸奔的芯片。

3、增加代码可移植性。
使用操作系统的时候，每个任务的执行时间，优先级，延时的长短。也就是大部分逻辑方面，操作系统中都已经设定好了。且对需要处理的事分成多个任务处理。每个任务相对独立。当需要对代码进行移植的时候，只需要将操作系统移植，然后再将驱动程序移植就基本可以完成原功能。若未使用操作系统，移植一个逻辑，时序较为复杂的代码将是一场灾难。
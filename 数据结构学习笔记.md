# 数据结构学习笔记

#### 一、堆排序

  **堆实际上是一棵完全二叉树**，其任何一非叶节点满足性质：

  Key[i]<=key[2i+1]&&Key[i]<=key[2i+2]或者Key[i]>=Key[2i+1]&&key>=key[2i+2]

  即任何一非叶节点的关键字不大于或者不小于其左右孩子节点的关键字。

  堆分为大顶堆和小顶堆，满足Key[i]>=Key[2i+1]&&key>=key[2i+2]称为大顶堆，满足 Key[i]<=key[2i+1]&&Key[i]<=key[2i+2]称为小顶堆。由上述性质可知**大顶堆的堆顶的关键字肯定是所有关键字中最大的，小顶堆的堆顶的关键字是所有关键字中最小的。**

2.堆排序的思想

   **利用大顶堆(小顶堆)堆顶记录的是最大关键字(最小关键字)这一特性，使得每次从无序中选择最大记录(最小记录)变得简单**。

对于堆排序，最重要的两个操作就是**构造初始堆和调整堆**，其实构造初始堆事实上也是调整堆的过程，只不过构造初始堆是对所有的非叶节点都进行调整。

并且**每次调整都是从父节点、左孩子节点、右孩子节点三者中选择最大者跟父节点进行交换**(交换之后可能造成被交换的孩子节点不满足堆的性质，因此每次交换之后要重新对被交换的孩子节点进行调整)。有了初始堆之后就可以进行排序了。

堆排序其实也是一种选择排序，是一种**树形选择排序**（每次选择一个最大值（最小值））。只不过直接选择排序中，为了从R[1...n]中选择最大记录，需比较n-1次，然后从R[1...n-2]中选择最大记录需比较n-2次。事实上这n-2次比较中有很多已经在前面的n-1次比较中已经做过，而**树形选择排序恰好利用树形的特点保存了部分前面的比较结果，因此可以减少比较次数**。堆排序为不稳定排序，不适合记录较少的排序。
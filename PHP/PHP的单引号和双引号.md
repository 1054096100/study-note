# PHP的单引号和双引号分析

在不涉及变量的情况下做个对比：

```php
<?php
$single_quotes = 'This is a String';
$double_quotes = "This is a String";
```

我们可以通过Opcodes生成器来看看，最终我们的这段代码是怎么被执行的。我们可以发现，在没有使用变量替换的情况下，双引号的和单引号所产生的Opcodes是一样的

在涉及到变量的情况下做个对比：

```php
$var = 'String';
$single_quotes_var = 'This is a '.$var;  //  1
$double_quotes_var = "This is a $var";  //  2
```

其中，标号为1的这条语句需要的操作为：

​	一、把字符串'this is a '和变量`$var`连接，把连接后的字符串赋值给临时变量然后返回它

​	二、再把第一步返回的临时变量赋值给变量`$single_quotes_var`

其中，标号为2的这条语句需要的操作为：

​	一、 初始化一个字符串变量，并返回一个临时变量

​	二、将第一部分字符串(This+is+a+)写入到第一步返回的临时变量里面，然后返回这个新的临时变量

​	三、将变量(`$var`)替换的字符串写入到第二步返回的临时变量里面，然后再返回这个新的临时变量

​	四、把第三步返回的临时变量赋值给变量`$double_quotes_var`

在使用双引号的情况下和使用单引号的情况下，同样的逻辑，**所经历的执行**确实不一样的(因为,Opcodes对于PHP来说就是最终的执行代码)。单单从生成的Opcods数量来说，就已经足以证明确实是使用单引号会快了。

至于**编译阶段**，双引号和单引号的区别也是很大的， 我就举个数字来说明： 在scanning阶段， 对于双引号的词法规则有14条，而对于单引号，仅仅只有6条

#### 综上所述，无论是在执行过程还是编译阶段，都是单引号更快


# 多线程开发中需要注意的问题

## 1、明确目的，为什么要使用多线程？

如果是由于单线程读写或者网络访问（例如HTTP访问互联网）的瓶颈，可以考虑使用线程池。如果是对不同的资源（例如SOCKET连接）进行管理，可以考虑多个线程。 

## 2、共享资源

线程中如果用到共享资源，一定要考虑公共资源的线程安全性。一般用LOCK锁机制来控制线程安全性。一定要保证不要有死锁机制。 

## 3、合理使用sleep

何时Sleep，Sleep的大小要根据具体项目，做出合理安排。**一般原则非阻塞状态下每个循环都要有Sleep，这样保证减少线程对CPU的抢夺**。每次线程的就绪和激活都会占用一定的资源，如果线程体如果有多个循环，多处使用SLEEP将导致性能的下降。 

